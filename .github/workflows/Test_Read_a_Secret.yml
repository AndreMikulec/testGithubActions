on:
  push:
  pull_request:
  workflow_dispatch:

name: Test read a secret

jobs:
  decode-secret:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v3
      - name: Retrieve the secret
      - if: ${{ env.SUPER_SECRET != '' }}
        run: echo 'This step will only run if the secret has a value set.'
      - if: ${{ env.SUPER_SECRET == '' }}
        run: echo 'This step will only run if the secret does not have a value set.'
        env:
          SUPER_SECRET: ${{ secrets.SUPER_SECRET }}
      - if: ${{ env.SUPER_SECRET != '' }}
        run: echo 'This step will only run if the secret has a value set.'
      - if: ${{ env.SUPER_SECRET == '' }}
        run: echo 'This step will only run if the secret does not have a value set.'

